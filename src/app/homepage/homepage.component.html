<!-- <app-sidebar></app-sidebar> -->


<!-- <img src="https://uploads.dailydot.com/2018/10/olli-the-polite-cat.jpg?auto=compress&fm=pjpg" alt=""> -->
<div class="flex p-2 space-x-4">
    <!-- Colonna sinistra -->
    <div class="flex-1 bg-white rounded-lg flex flex-col">
        <!-- Riga superiore nella colonna sinistra -->
        <div class="p-4 flex space-x-4">
            <!-- Prima card -->
            <div class="flex-1 bg-[#ff7b433b] border-2 border-[#ff7c43] rounded-lg p-4 flex flex-col items-center">
                <div>
                    <!-- icona 1 -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="#ff7c43" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                        <line x1="12" y1="9" x2="12" y2="13"></line>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                </div>
                <div class="text-center mt-4">
                    <p class="text-2xl font-bold">{{notCompletedTask.length}}</p>
                    <p class="text-sm text-gray-500">Da completare</p>
                </div>
            </div>
            
    <!-- Seconda card -->
    <div class="flex-1 bg-[#d1f2fe] border-2 border-[#003f5c] rounded-lg p-4 flex flex-col items-center">
        <div>
            <!-- icona 2 -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="#003f5c" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        </div>
        <div class="text-center mt-4">
            <p class="text-2xl font-bold">{{completedTask.length}}</p>
            <p class="text-sm text-gray-500">Completate</p>
        </div>
    </div>
    
    <!-- Terza card -->
    <div class="flex-1 bg-[#fff7d0] border-2 border-[#ffa600] rounded-lg p-4 flex flex-col items-center">
        <div>
            <!-- icona 3 -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="#ffa600" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        </div>
        <div class="text-center mt-4">
            <p class="text-2xl font-bold">{{notArrivedOrders.length}}</p>
            <p class="text-sm text-gray-500">Ordini in arrivo</p>
        </div>
    </div>
    
    
    <!-- Quarta card -->
    <div class="flex-1 bg-[#6651913c] border-2 border-[#665191] rounded-lg p-4 flex flex-col items-center">
        <div>
            <!-- icona 4 -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="#665191" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
        </div>
        <div class="text-center mt-4">
            <p class="text-2xl font-bold">{{newCommunications.length}}</p>
            <p class="text-sm text-gray-500">Nuove comunicazioni</p>
        </div>
    </div>
    
</div>
<!-- Contenuto principale nella colonna sinistra -->
<mat-divider class="w-11/12 opacity-30 translate-x-8"></mat-divider>

<div class="flex-1 p-4">
            <div class="relative text-gray-500 focus-within:text-gray-900 mb-4 flex items-center">
                <!-- Barra di ricerca -->
                <div class="flex-1">
                    <input 
                        [(ngModel)]="filterCriteria" 
                        type="text" id="default-search" 
                        class="flex w-1/2 h-11 pr-5 pl-12 py-2.5 text-base font-normal items-center shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none" 
                        placeholder="cerca per titolo della task"
                        (input)="filterTaskByProperties()"
                    >
                </div>
            
                <!-- Icona della lente di ingrandimento -->
                <div class="absolute inset-y-0 left-1 flex items-center pl-3 pointer-events-none">
                    <svg class="w-5 h-5" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.5 17.5L15.4167 15.4167M15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333C11.0005 15.8333 12.6614 15.0929 13.8667 13.8947C15.0814 12.6872 15.8333 11.0147 15.8333 9.16667Z" stroke="#9CA3AF" stroke-width="1.6" stroke-linecap="round" />
                        <path d="M17.5 17.5L15.4167 15.4167M15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333C11.0005 15.8333 12.6614 15.0929 13.8667 13.8947C15.0814 12.6872 15.8333 11.0147 15.8333 9.16667Z" stroke="black" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
                        <path d="M17.5 17.5L15.4167 15.4167M15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333C11.0005 15.8333 12.6614 15.0929 13.8667 13.8947C15.0814 12.6872 15.8333 11.0147 15.8333 9.16667Z" stroke="black" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
                    </svg>
                </div>
            
                <!-- Bottone -->
                <!-- <h1>Ordina per...</h1> -->
                <div>
                    <button 
                    [ngClass]="{'settimanale': freq === 'Settimanale', 'bisettimanale': freq === 'Bisettimanale', 'mensile': freq === 'Mensile', 'notactive': freq !== 'Settimanale' && freq !== 'Bisettimanale' && freq !== 'Mensile'}"
                    (click)="sortByFrequency()" type="button" class="items-center justify-center w-28 h-16 focus:outline-none font-medium rounded-lg text-sm">
                       <div class="block">Frequenza:</div>
                       <div class="block">{{freq}}</div>
                        <div  class="block">
                            <!-- <mat-icon aria-hidden="false" aria-label="Example home icon" [fontIcon]="fontIconName"></mat-icon> -->
                        </div>
                    </button>
                </div>
                <div class="ml-3">
                    <button 
                    [ngClass]="{'pending': statux === 'Da farsi', 'completed': statux === 'Completate', 'notactive': statux !== 'Da farsi' && statux !== 'Completate'}"
                    (click)="sortByStatus()" type="button" class="items-center justify-center w-28 h-16 focus:outline-none font-medium rounded-lg text-sm">
                       <div class="block">Status:</div>
                       <div class="block">{{statux}}</div>
                        <div  class="block">
                            <!-- <mat-icon aria-hidden="false" aria-label="Example home icon" [fontIcon]="fontIconName"></mat-icon> -->
                        </div>
                    </button>
                </div>
                
            </div>
            
            @for (task of unitedTask; track task.id)
            {
                <app-single-task [task]="task" (taskUpdated)="onTaskUpdated($event)"></app-single-task>
            }
              <!-- Aggiungi il contenuto principale qui -->
        </div>
    </div>

    <!-- Colonna destra -->
    <div class="w-1/3 bg-white rounded-lg p-4 overflow-auto">
        <!-- <h2 class="text-lg font-semibold">Colonna Destra</h2> -->
        <div class="flex flex-col gap-4">
            <app-filtered-communication-card *ngFor="let communication of filteredCommunications" [communication]="communication">
            </app-filtered-communication-card>
        </div>
</div>


    