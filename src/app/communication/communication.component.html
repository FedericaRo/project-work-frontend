<div [ngClass]="{
                'colore-amministrativa': communication.type==='AMMINISTRATIVA',
                'colore-cambioturno': communication.type==='CAMBIOTURNO',
                'colore-informativa': communication.type==='INFORMATIVA',
                'colore-organizzativa': communication.type==='ORGANIZZATIVA',
                'group': communication.type==='AMMINISTRATIVA',
                'group2': communication.type==='CAMBIOTURNO',
                'group3': communication.type==='INFORMATIVA',
                'group4': communication.type==='ORGANIZZATIVA',
                }" class="relative flex flex-col items-start p-4 overflow-hidden w-80 h-80">

  <!-- Background Overlay -->
  <span class="absolute inset-0 w-full h-full bg-white opacity-60"></span>

  <!-- Card Content -->
  <div class="relative w-full flex flex-col h-full justify-between">
    <!-- Delete Button -->
    <button (click)="onDelete('')" class="absolute top-2 right-2 text-gray-800 rounded-lg hover:bg-inherit">
      <mat-icon style="font-size: 1.5rem;" class="material-icons-outlined">delete</mat-icon>
    </button>

    <!-- Title -->
    <div class="mt-4 mb-2 w-full pr-6">
      <h3 class="text-base font-bold text-gray-800 title-font">
        {{communication.communicationName}}
      </h3>
    </div>

    <!-- Main Content -->
    <div class="flex-grow mt-4">
      <!-- From and To Information -->
      <p class="text-xs text-gray-700 content-font">
        <strong>Da:</strong> {{communication.fromPerson}} <br>
        <strong>Per:</strong> {{communication.toPerson}}
      </p>
      <!-- Description -->
      <p class="mt-1 text-gray-700 description content-font">
        {{communication.description}}
      </p>
      <!-- Date -->
      <p class="mt-1 text-gray-700 content-font">
        <strong>Data:</strong> {{communication.creationDate | date:'dd/MM/yyyy'}}
      </p>
      <!-- Type and Importance Badges -->
      <div class="mt-1 flex flex-wrap gap-1 mb-4">
        <span [ngClass]="typeLable(communication.type)" class="badge rounded-full text-xs font-semibold px-2 py-1">
          {{communication.type}}
        </span>
        <span [ngClass]="importanceLable(communication.importance)"
          class="badge rounded-full text-xs font-semibold px-2 py-1">
          {{communication.importance}}
        </span>
      </div>

      <!-- bottone per aprire pdf -->
      <div *ngIf="communication.pdfFilePath">
        <button type="button"
          class="p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-700"
          (click)="loadPdf(communication.id!)">
          <!-- SVG icon -->
          <svg id="Livello_2" data-name="Livello 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 422.35 511.81"
            class="w-10 h-10 text-gray-900 dark:text-gray-400">
            <defs>
              <style>
                .cls-1 {
                  fill: #963232;
                }

                .cls-1,
                .cls-2,
                .cls-3,
                .cls-4,
                .cls-5,
                .cls-6,
                .cls-7,
                .cls-8 {
                  stroke-width: 0px;
                }

                .cls-2 {
                  fill: #facecf;
                }

                .cls-3 {
                  fill: #1a1a1a;
                }

                .cls-4 {
                  fill: #fdfdfd;
                }

                .cls-5 {
                  fill: #a93839;
                }

                .cls-6 {
                  fill: #cc4445;
                }

                .cls-7 {
                  fill: #e34b4d;
                }

                .cls-8 {
                  fill: #fefefe;
                }
              </style>
            </defs>
            <g id="Livello_1-2" data-name="Livello 1">
              <g>
                <path class="cls-7"
                  d="M371.64,511.81H85.75c-10.03-1.45-19.02-5.23-26.94-11.65-11.89-9.65-18.78-22.11-21.25-37.09-.5-3.01-1.25-6.39,2.32-8.43,3.24-1.14,6.6-.77,9.91-.77,108.42-.02,216.85-.02,325.27,0,6.4,0,12.69-.42,18.16-4.24,5.98-4.17,9.37-9.86,9.38-17.24.07-45.3.1-90.61-.02-135.91-.03-11.97-9.15-20.8-21.79-21.54-2.83-.16-5.66-.07-8.49-.07-107.76,0-215.51,0-323.27-.03-3.59,0-7.39.75-10.63-1.69-1.74-2.56-1.09-5.48-1.09-8.25-.04-69.71-.02-139.42-.04-209.12.5-22.41,11.25-38.6,30.17-49.93C73.43,2.27,80.08,1.17,86.75,0h207.92c2.16,2.35,1.75,5.28,1.75,8.07.03,20.16-.04,40.32.05,60.48.03,8.02.99,15.95,3.33,23.66,6.12,20.14,19.59,32.79,39.56,38.81,2.36.71,4.95.98,6.65,3.13,2.65,3.35,6.61,4.98,9.98,7.31,19.87,13.73,39.53,27.76,59.64,41.15,4.64,3.09,6.57,6.66,6.57,12.33-.13,86.62-.14,173.24-.07,259.86,2.33,20.3-13.9,47.31-40.28,55.49-3.32,1.03-6.88.49-10.21,1.51Z" />
                <path class="cls-2"
                  d="M295.67,0c14.21,15.54,28.37,31.13,42.63,46.63,27.45,29.83,54.95,59.61,82.43,89.42-.73,2.83-3.2,2.76-5.23,2.74-20.8-.21-41.63,1.26-62.39-1.07-2.64-.3-5.27-.84-7.23-2.92-11.62-3.18-22.74-7.23-31.82-15.72-11-10.29-16.9-23.12-18.27-37.77-2.22-23.72-.48-47.55-.95-71.33-.07-3.32-.12-6.65-.18-9.97.33,0,.67,0,1,0Z" />
                <path class="cls-6"
                  d="M38.47,455.93c-3.82-.11-7.63-.28-11.45-.31-17.47-.12-26.89-9.44-27-26.78-.02-3.49,0-6.99,0-10.48,0-53.89.01-107.78,0-161.67,0-11.03,3.16-20.64,12.23-27.58,5.12-3.92,10.83-6.41,17.45-6.24.3-.14.6-.35.92-.38q7.66-.58,7.66,7.04c0,12.82-.02,25.64.02,38.46,0,1.63-.4,3.34.46,4.9,113.25,0,226.5,0,339.76.02,9.33,0,17.33,2.82,22.56,11.1,2.44,3.86,3.64,8.05,3.63,12.75-.09,44.64-.31,89.27.11,133.91.12,12.96-9.23,24.54-24.57,25.15-1.5.06-3,.01-4.5.01-109.92,0-219.84,0-329.76,0-2.5,0-4.99.06-7.49.1Z" />
                <path class="cls-1"
                  d="M229.68,180.99c-28.15,0-56.3.02-84.45-.02-6.85,0-10.03-3.17-9.58-9.17.25-3.36,2.03-5.54,5.05-6.76,2.35-.95,4.83-1.06,7.36-1.06,54.47.03,108.93.01,163.4.03,4.55,0,9.13.15,11.74,4.87,2.87,5.18-.63,11.59-6.57,12.06-1.49.12-3,.05-4.5.05-27.48,0-54.97,0-82.45,0Z" />
                <path class="cls-1"
                  d="M224.69,240.01c-26.81,0-53.63-.05-80.44.05-4.04.01-6.99-1.59-8.21-5.18-1.25-3.66-.52-7.21,2.95-9.78,1.63-1.21,3.39-1.27,5.21-1.27,53.96-.01,107.92.06,161.88-.13,5.03-.02,9.23,4.17,9.19,8.48-.04,4.71-3.66,7.8-9.14,7.81-27.15.04-54.29.02-81.44.02Z" />
                <path class="cls-6"
                  d="M345.88,134.79c23.95,3.71,48.08,1.47,72.12,2.06.97.02,2.02.13,2.73-.81,1.6,1.51.84,3.46.84,5.19,0,103.21-.06,206.42-.13,309.63,0,1.78.52,3.68-.67,5.33-.06-2.49-.19-4.99-.19-7.48,0-84.73-.05-169.46.1-254.19,0-4.76-1.57-7.33-5.47-9.97-22.96-15.53-45.7-31.4-68.44-47.26-.4-.28-3.92-.57-.89-2.49Z" />
                <path class="cls-5"
                  d="M38.74,272.89c-1.51-1.51-.94-3.44-.95-5.2-.05-12.11-.02-24.23-.02-36.34q0-8.12-8.09-8.48c.14-.09.27-.24.42-.26q7.95-1.37,7.95-9.79c0-51.03,0-102.06.02-153.09,0-1.95-.51-4,.62-5.84.07,1.33.19,2.65.19,3.98-.04,71.67-.1,143.35-.15,215.02Z" />
                <path class="cls-8"
                  d="M11.55,276.48c10.09,7.12,20.97,6.8,31.76,6.8,110.61.02,221.22.01,331.83.01,1.67,0,3.34-.07,5,.04,8.99.6,14.46,6.19,14.47,15.18.06,43.81.05,87.62,0,131.43-.01,9.29-5.54,14.82-14.84,15.22-1.16.05-2.33.02-3.5.02-115.77,0-231.55,0-347.32,0-2.66,0-5.34.13-7.91-.77-6.34-2.22-9.46-7.18-9.47-15.35-.03-28.49-.01-56.97-.01-85.46,0-20.32,0-40.65,0-60.97,0-1.77,0-3.54,0-6.16Z" />
                <path class="cls-3"
                  d="M172.62,360.72c0-12.15.11-24.3-.07-36.45-.05-3.26.44-4.62,4.19-4.53,12.64.31,25.29.1,37.94.34,6,.11,11.85,1.32,17.38,3.85,9.16,4.19,12.74,12.19,14.44,21.32,1.84,9.88,1.78,19.82.23,29.76-2.46,15.82-10.25,23.75-26.28,25.83-15.07,1.96-30.25.57-45.38.99-3.13.09-2.43-1.97-2.44-3.66-.03-12.48-.01-24.97-.01-37.45Z" />
                <path class="cls-3"
                  d="M93.29,360.57c0-12.33.11-24.65-.08-36.98-.05-3.14.9-3.87,3.91-3.82,12.66.18,25.32-.05,37.97.14,17.42.27,26.57,9.29,27.5,26.78.32,6.02-.07,11.98-1.81,17.78-3.19,10.65-10.74,16.7-21.8,17.26-5.15.26-10.34.37-15.48.09-3.44-.19-4.22,1.07-4.02,4.22.25,3.98-.15,8.01.13,11.98.22,3.21-1.01,3.95-3.99,3.85-5.99-.21-12-.26-17.98.01-3.43.16-4.51-.76-4.44-4.33.23-12.32.09-24.65.09-36.97Z" />
                <path class="cls-3"
                  d="M259,360.63c0-12.31.1-24.62-.07-36.93-.04-3.04.73-3.96,3.86-3.93,15.47.16,30.94.13,46.41.02,2.78-.02,3.86.47,3.2,3.54-1.05,4.86-1.87,9.79-2.44,14.74-.28,2.44-1.31,2.86-3.49,2.81-5.82-.14-11.65.07-17.46-.1-2.65-.08-4.1.47-3.68,3.48.18,1.31.17,2.68,0,3.98-.36,2.77.59,3.8,3.52,3.67,5.15-.23,10.31.07,15.46-.12,2.6-.09,3.5.65,3.36,3.33-.22,4.31-.23,8.66,0,12.97.15,2.76-.92,3.37-3.41,3.29-4.82-.15-9.66.15-14.47-.11-3.4-.19-4.66.77-4.52,4.37.28,7.31-.03,14.64.14,21.95.07,3-.39,4.5-3.97,4.31-6.14-.32-12.32-.31-18.45,0-3.56.18-4.08-1.29-4.05-4.33.13-12.31.05-24.62.05-36.93Z" />
                <path class="cls-8"
                  d="M198.74,360.37c0-5.49.11-10.99-.05-16.48-.07-2.36.61-3.25,3.05-3.11,3.82.22,7.66,0,11.48.22,4.22.26,6.66,2.29,6.59,6.95-.13,8.49-.08,16.98,0,25.47.04,4.16-1.68,6.63-5.98,7.06-4.8.47-10.47,1.93-14.14-.32-2.86-1.75-.65-7.72-.92-11.8-.17-2.65-.03-5.32-.03-7.99Z" />
                <path class="cls-4"
                  d="M119.55,350.51c0-.5-.06-1.01.01-1.49.4-2.69-1.42-6.84.96-7.8,3.11-1.26,7.16-.81,10.73.32,1.36.43,2.54,1.17,2.81,2.55.89,4.58,1.21,9.24-.19,13.75-.91,2.91-3.77,2.85-6.24,3.01q-8.08.52-8.08-7.34c0-1,0-1.99,0-2.99Z" />
              </g>
            </g>
          </svg>
        </button>
      </div>
    </div>
  </div>